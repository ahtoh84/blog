@view-transition {
  navigation: auto;
}
@supports (font-variation-settings: normal) {
    :root { font-family: InterVariable, sans-serif; }
  }
  :root[data-theme="dark"] {
      color-scheme: dark;
  }
  
  :root {
      /* 颜色变量 */
      --bg-color: #fff;
      --text-color: #333;
      --heading-color: #111;
      --link-color: #333;
      --link-hover-color: #333;
      --link-underline-color: #A3BE8C;
      --blockquote-bg: #f8f9fa;
      --blockquote-color: #333;
      --blockquote-border: #A3BE8C;
      --list-dot-color: #B48EAD;
      --code-bg: #3b4252;
      --code-color: #fff;
      --text-muted-color: #6c757d; 
      --border-color: rgba(0, 0, 0, 0.05);

      
      /* 间距与尺寸 */
      --spacing-base: 1rem;
      --spacing-lg: 1.5rem;
      --spacing-xl: 2rem;
      --spacing-xxl: 3rem;
      --spacing-xxxl: 4rem;
      --border-radius-sm: 4px;
      --border-radius-md: 8px;
      --border-radius-lg: 50%;
      
      /* 阴影与过渡 */
      --shadow-sm: 0 2px 6px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
      --transition-theme: background-color 0.3s ease-in-out,
                         color 0.3s ease-in-out,
                         border-color 0.3s ease-in-out,
                         box-shadow 0.3s ease-in-out;
  }
  
  [data-theme="dark"] {
      --bg-color: #1f1f1f;
      --text-color: #E5E0D8;
      --heading-color: #E5E0D8;
      --link-color: #E5E0D8;
      --link-hover-color: #D1CFBF;
      --link-underline-color: #BF616A;
      --blockquote-bg: #363636;
      --blockquote-color: #D1CFBF;
      --blockquote-border: #BF616A;
      --list-dot-color: #EBCB8B;
      --text-muted-color: #9a9a9a; 
      --shadow-sm: 0 2px 6px rgba(0, 0, 0, 0.15);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.2);
      --border-color: rgba(255, 255, 255, 0.1);
  }
  
  /* 全局重置与基础样式 */
  *,
  *::before,
  *::after {
      box-sizing: border-box;
  }
  
  html,
  body {

      background-color: var(--bg-color);
      color: var(--text-color);
      transition: var(--transition-theme);
      scroll-behavior: smooth;
      margin-left: calc(100vw - 100%);
      margin-right: 0;
  }
  
  body {
      font-family: "Inter", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;     
      font-feature-settings: 'liga' 1, 'calt' 1; /* fix for Chrome */  
    font-optical-sizing: auto;
    font-style: normal;
     font-size: 1rem;
      font-weight: 400;
      line-height: 1.7;
      height: 100%;
      margin: var(--spacing-xxxl) 0;
      padding: 0;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
  }
  
  /* 主题过渡元素 */
  a, blockquote, code, pre, .theme-toggle, header, footer, nav, h1, h2, h3, h4, h5, h6 {
      transition: var(--transition-theme);
  }
  
  /* 布局容器 */
  header, main {
      max-width: 720px;
      margin: 0 auto;
      padding: 40px 0px;
      border-bottom: 1px solid  var(--border-color);
  }

  
  /* 页头页脚 */
  header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--spacing-lg);

  }
  
  header h1 {
      margin: 0;
      flex-shrink: 0;
  }
  
  nav {
      display: flex;
      align-items: center;
      gap: var(--spacing-lg);
  }
  nav p { margin: 0; }
  nav a {
      padding: 0.1rem 0.2rem;
      border-radius: var(--border-radius-sm);
      transition: var(--transition);
  }
  
  nav a:hover {
      color: var(--link-hover-color);
  }
  
  footer {
      max-width: 720px;
      margin: 0 auto;
      padding: 40px 0;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      gap: var(--spacing-base);
      margin-top: 10rem;
  }
  
  footer, footer a {
      font-size: 0.9rem;
      color: var(--text-muted-color);
  }
  
  /* 主题切换按钮 */
  .theme-toggle {
      margin: 0;
      order: 1;
  }
  
  .theme-toggle svg {
      width: 24px;
      height: 24px;
      fill: none;
      stroke: currentColor;
      stroke-width: 1.5;
      transition: var(--transition);
      vertical-align: text-bottom;
      margin-bottom: 1px;
  }
  
  .theme-toggle:hover svg {
      stroke: var(--link-hover-color);
  }
  
  .theme-toggle::after {
      display: none;
  }
  
  [data-theme="dark"] .theme-toggle svg {
      fill: currentColor;
  }
  
  
  /* 标题样式 */
  h1, h2, h3, h4, h5, h6 {
      color: var(--heading-color);
      font-weight: 600;
      line-height: 1.3;
      margin: 0;
  }
  
  h1 { font-size: 1.3rem; letter-spacing: -0.5px; }
  h2 { font-size: 1.3rem; }
  h3 { font-size: 1.2rem; }
  h4 { font-size: 1.1em; }
  
  
  /* 文本元素 */
  p { margin: 0 0 1.5em; }
  
  /* 链接样式 */
  a {
      color: var(--link-color);
      font-weight: 500;
      text-decoration: none;
      position: relative;
  }
  
  a:hover {
      color: var(--link-hover-color);
  }
  
  a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 3px;
      bottom: -2px;
      left: 0;
      background-color: var(--link-underline-color);
      transition: width 0.3s ease;
      transform-origin: left center;
      pointer-events: none;
  }
  
  a:hover::after {
      width: 100%;
  }
  
  /* 图片和Logo样式 */
  img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: var(--spacing-xl) auto;
      border-radius: var(--border-radius-md);
      box-shadow: var(--shadow-md);
  }
  .logo {
      align-items: center;
      display: flex;
      flex-direction: column;
      margin: 0 auto;
      text-align: center;
  }
  .logoimg {
      width: 120px;
      height: 120px;
      border-radius: var(--border-radius-lg);
      margin: 0 auto var(--spacing-base);
      object-fit: cover;
  }
  
  /* 引用块样式 */
  blockquote {
      margin: var(--spacing-xl) 0;
      padding: var(--spacing-base) var(--spacing-lg);
      color: var(--blockquote-color);
      background-color: var(--blockquote-bg);
      border-left: 5px solid var(--blockquote-border);
      border-radius: var(--border-radius-sm);
      box-shadow: var(--shadow-sm);
      position: relative;
  }
  
  blockquote p {
      margin: 0 0 1.5em;
  }
  
  /* 代码样式 */
  code, pre {
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 0.9em;
      background-color: var(--code-bg);
  }
  
  code {
      color: var(--code-color);
      padding: 0.2em 0.4em;
      border-radius: var(--border-radius-sm);
  }
  
  pre {
      margin: var(--spacing-xl) 0;
      padding: var(--spacing-lg);
      line-height: 1.6;
      /* color: #d8dee9; */ /* 替换为代码颜色变量 */
      color: var(--code-color); /* 使用已有的代码颜色变量 */
      border-radius: var(--border-radius-md);
      overflow-x: auto;
      box-shadow: var(--shadow-md);
  }
  
  pre code {
      background-color: transparent;
      padding: 0;
      border-radius: 0;
      color: inherit;
      font-size: inherit;
  }
  
  /* 列表样式 */
  ul {
      list-style: none;
      padding-left: 1.2em;
  }
  
  ul li {
      position: relative;
  }
  
  ul li::before {
      content: '';
      position: absolute;
      width: 6px;
      height: 6px;
      left: -1em;
      top: 0.7em;
      background-color: var(--list-dot-color);
      border-radius: var(--border-radius-lg);
  }
  
  /* 博客文章列表 */
  ul.blog-posts {
      list-style-type: none;
      margin-top: var(--spacing-xxl);
      padding: 0;
  }
  
  ul.blog-posts li {
      overflow: hidden;
      padding: var(--spacing-base) 0;
  }
  
  ul.blog-posts li::before {
      display: none;
  }
  
  ul.blog-posts li a {
      float: left;
      max-width: calc(100% - 110px);
      text-overflow: ellipsis;
      white-space: nowrap;
  }
  
  ul.blog-posts li time {
      float: right;
  }
  
  /* 时间样式 */
  time {
      font-size: 90%;
      font-style: normal;
      opacity: 0.75;
  }
  
  /* 分隔线 */
  hr {
      margin: var(--spacing-xxl) 0;
      height: 1px;
      border: 0;
      background-color: var(--border-color);
  }
  
  /* 响应式设计 */
  @media screen and (max-width: 720px) {
      /* 布局容器调整 */
      header,
      main,
      footer {
          padding: 0 var(--spacing-base);
          margin: var(--spacing-xl) auto;
      }
  
      /* 导航栏调整 */
      header {
          flex-direction: column;
          gap: var(--spacing-base);
      }
  
      nav {
          width: 100%;
          justify-content: center;
          flex-wrap: wrap;
      }
  
      /* 博客文章列表调整 */
      ul.blog-posts li a {
          max-width: 100%;
          float: none;
          display: block;
          margin-bottom: 0.5em;
      }
  
      ul.blog-posts li time {
          float: none;
          display: block;
          font-size: 0.9em;
      }
  
      /* 图片大小调整 */
      .logoimg {
          width: 100px;
          height: 100px;
      }
  
    }
  /* 小屏幕设备额外优化 */
  @media screen and (max-width: 480px) {

      :root {
          --spacing-base: 0.8rem;
          --spacing-lg: 1.2rem;
          --spacing-xl: 1.5rem;
          --spacing-xxl: 2rem;
      }
  
      /* 代码块调整 */
      pre {
          padding: var(--spacing-base);
          font-size: 0.85em;
      }
  
      /* 引用块调整 */
      blockquote {
          padding: var(--spacing-base);
          margin: var(--spacing-lg) 0;
      }
  }
  
  /* 工具类 */
  #upvote-form { display: none !important; }
  ul.embedded.blog-posts li { flex-flow: row wrap; }
  
  /* 内容页面通用样式 */
  .book-notes,
  .posts,
  .notes,
  .photos,
  .meow, {
      margin: var(--spacing-xxxl) 0;
      padding: 0;
      list-style: none;
  }
  
  .book-notes ul,
  .posts ul,
  .notes ul,
  .photos ul,
  .meow ul {
      padding: 0; 
  }

  
  /* meow 和 书摘列表项通用样式 */
  .meow li,
  .book-notes li {
      position: relative;
      margin: var(--spacing-xl) 0;
      padding: var(--spacing-lg); /* 统一使用 --spacing-lg */
      color: var(--blockquote-color);
      background-color: var(--blockquote-bg);
      border-left: 5px solid var(--blockquote-border);
      border-radius: var(--border-radius-sm);
      box-shadow: var(--shadow-sm);
  }
  
  .meow li::before,
  .book-notes li::before {
      display: none; /* 合并通用 ::before 样式 */
  }
  
  .meow li p, /* 应用于 meow li 下所有 p */
  .book-notes li p { /* 应用于 book-notes li 下所有 p */
      margin: 0 0 1.5em;
  }
  
  .meow li p:first-child {
      margin-top: 0;
  }
  
  .meow li p:last-child,
  .book-notes li p:last-child { /* 为 book-notes 添加 last-child 规则 */
      margin-bottom: 0;
  }
  
  .meow li p img {
      margin: auto;
  }
  
  .meow time {
      display: block;
      margin-top: 1rem;
      font-size: 0.8em;
      color: var(--blockquote-color);
      opacity: 0.75;
      text-align: right;
      padding-top: 0.8rem;
  }
  
  /* 书摘特有样式 */
  .book-notes span { /* 保留 book-notes 特有的 span 样式 */
      display: block;
      text-align: right;
  }
  
  /* Photos 页面样式 */


  .photos .photo-item {
      margin-bottom: 2.5em;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 2.5em;
  }

  .photos .photo-item:last-child {
      border-bottom: none;
      padding-bottom: 0;
  }

  .photos .photo-item img {
      width: 100%;
      height: auto;
      margin: 0 0 0.8em 0;
      border-radius: var(--border-radius-md);
      box-shadow: var(--shadow-md);
  }

  .photos .photo-item p {
      margin: 0;
      color: var(--text-color);
      opacity: 0.8;
      line-height: 1.5;
  }

  /* 针对 Photos 页面的响应式调整 */
  @media screen and (max-width: 720px) {
      .photos .photo-item {
          margin-bottom: 3em;
          padding-bottom: 2em;
      }
  }
